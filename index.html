<!DOCTYPE html>
<html lang="zh-TW">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>„Å°„ÅÑ„Åã„ÇèÂè∞ÂåóÊ∞£Ë±°</title>
    <link rel="icon" type="image/svg+xml" href="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 180 180'%3E%3Cdefs%3E%3CradialGradient id='plate'%3E%3Cstop offset='20%25' stop-color='%23FFF'/%3E%3Cstop offset='100%25' stop-color='%23F5F5F5'/%3E%3C/radialGradient%3E%3ClinearGradient id='puddingBody' x1='0%25' y1='0%25' x2='0%25' y2='100%25'%3E%3Cstop offset='0%25' stop-color='%23FFEAA7'/%3E%3Cstop offset='100%25' stop-color='%23FFD93D'/%3E%3C/linearGradient%3E%3ClinearGradient id='caramel' x1='0%25' y1='0%25' x2='0%25' y2='100%25'%3E%3Cstop offset='0%25' stop-color='%23C17F4E'/%3E%3Cstop offset='50%25' stop-color='%23A0522D'/%3E%3Cstop offset='100%25' stop-color='%238B4513'/%3E%3C/linearGradient%3E%3C/defs%3E%3Crect width='180' height='180' fill='%23FFF9E6' rx='30'/%3E%3Cellipse cx='90' cy='130' rx='65' ry='12' fill='%23E0E0E0' opacity='0.3'/%3E%3Cellipse cx='90' cy='128' rx='70' ry='8' fill='url(%23plate)' stroke='%23DDD' stroke-width='1.5'/%3E%3Cpath d='M 40 90 Q 38 75 45 65 Q 50 58 60 55 L 120 55 Q 130 58 135 65 Q 142 75 140 90 L 138 105 Q 135 118 125 125 Q 115 130 90 130 Q 65 130 55 125 Q 45 118 42 105 Z' fill='url(%23puddingBody)' stroke='%23F4C430' stroke-width='1.5'/%3E%3Cellipse cx='90' cy='52' rx='32' ry='8' fill='url(%23caramel)'/%3E%3Cpath d='M 58 52 Q 60 45 68 42 Q 78 39 90 39 Q 102 39 112 42 Q 120 45 122 52' fill='url(%23caramel)' opacity='0.8'/%3E%3Cpath d='M 85 48 Q 88 50 90 48 Q 92 50 95 48' fill='none' stroke='%238B4513' stroke-width='1.5' opacity='0.6'/%3E%3Cellipse cx='65' cy='80' rx='8' ry='12' fill='%23FFF4D1' opacity='0.4'/%3E%3Cellipse cx='110' cy='90' rx='6' ry='10' fill='%23FFF4D1' opacity='0.35'/%3E%3Cellipse cx='85' cy='105' rx='7' ry='11' fill='%23FFF4D1' opacity='0.3'/%3E%3C/svg%3E">
    <link rel="apple-touch-icon" href="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 180 180'%3E%3Cdefs%3E%3CradialGradient id='plate'%3E%3Cstop offset='20%25' stop-color='%23FFF'/%3E%3Cstop offset='100%25' stop-color='%23F5F5F5'/%3E%3C/radialGradient%3E%3ClinearGradient id='puddingBody' x1='0%25' y1='0%25' x2='0%25' y2='100%25'%3E%3Cstop offset='0%25' stop-color='%23FFEAA7'/%3E%3Cstop offset='100%25' stop-color='%23FFD93D'/%3E%3C/linearGradient%3E%3ClinearGradient id='caramel' x1='0%25' y1='0%25' x2='0%25' y2='100%25'%3E%3Cstop offset='0%25' stop-color='%23C17F4E'/%3E%3Cstop offset='50%25' stop-color='%23A0522D'/%3E%3Cstop offset='100%25' stop-color='%238B4513'/%3E%3C/linearGradient%3E%3C/defs%3E%3Crect width='180' height='180' fill='%23FFF9E6' rx='30'/%3E%3Cellipse cx='90' cy='130' rx='65' ry='12' fill='%23E0E0E0' opacity='0.3'/%3E%3Cellipse cx='90' cy='128' rx='70' ry='8' fill='url(%23plate)' stroke='%23DDD' stroke-width='1.5'/%3E%3Cpath d='M 40 90 Q 38 75 45 65 Q 50 58 60 55 L 120 55 Q 130 58 135 65 Q 142 75 140 90 L 138 105 Q 135 118 125 125 Q 115 130 90 130 Q 65 130 55 125 Q 45 118 42 105 Z' fill='url(%23puddingBody)' stroke='%23F4C430' stroke-width='1.5'/%3E%3Cellipse cx='90' cy='52' rx='32' ry='8' fill='url(%23caramel)'/%3E%3Cpath d='M 58 52 Q 60 45 68 42 Q 78 39 90 39 Q 102 39 112 42 Q 120 45 122 52' fill='url(%23caramel)' opacity='0.8'/%3E%3Cpath d='M 85 48 Q 88 50 90 48 Q 92 50 95 48' fill='none' stroke='%238B4513' stroke-width='1.5' opacity='0.6'/%3E%3Cellipse cx='65' cy='80' rx='8' ry='12' fill='%23FFF4D1' opacity='0.4'/%3E%3Cellipse cx='110' cy='90' rx='6' ry='10' fill='%23FFF4D1' opacity='0.35'/%3E%3Cellipse cx='85' cy='105' rx='7' ry='11' fill='%23FFF4D1' opacity='0.3'/%3E%3C/svg%3E">
    <link rel="apple-touch-icon" sizes="180x180" href="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 180 180'%3E%3Cdefs%3E%3CradialGradient id='plate'%3E%3Cstop offset='20%25' stop-color='%23FFF'/%3E%3Cstop offset='100%25' stop-color='%23F5F5F5'/%3E%3C/radialGradient%3E%3ClinearGradient id='puddingBody' x1='0%25' y1='0%25' x2='0%25' y2='100%25'%3E%3Cstop offset='0%25' stop-color='%23FFEAA7'/%3E%3Cstop offset='100%25' stop-color='%23FFD93D'/%3E%3C/linearGradient%3E%3ClinearGradient id='caramel' x1='0%25' y1='0%25' x2='0%25' y2='100%25'%3E%3Cstop offset='0%25' stop-color='%23C17F4E'/%3E%3Cstop offset='50%25' stop-color='%23A0522D'/%3E%3Cstop offset='100%25' stop-color='%238B4513'/%3E%3C/linearGradient%3E%3C/defs%3E%3Crect width='180' height='180' fill='%23FFF9E6' rx='30'/%3E%3Cellipse cx='90' cy='130' rx='65' ry='12' fill='%23E0E0E0' opacity='0.3'/%3E%3Cellipse cx='90' cy='128' rx='70' ry='8' fill='url(%23plate)' stroke='%23DDD' stroke-width='1.5'/%3E%3Cpath d='M 40 90 Q 38 75 45 65 Q 50 58 60 55 L 120 55 Q 130 58 135 65 Q 142 75 140 90 L 138 105 Q 135 118 125 125 Q 115 130 90 130 Q 65 130 55 125 Q 45 118 42 105 Z' fill='url(%23puddingBody)' stroke='%23F4C430' stroke-width='1.5'/%3E%3Cellipse cx='90' cy='52' rx='32' ry='8' fill='url(%23caramel)'/%3E%3Cpath d='M 58 52 Q 60 45 68 42 Q 78 39 90 39 Q 102 39 112 42 Q 120 45 122 52' fill='url(%23caramel)' opacity='0.8'/%3E%3Cpath d='M 85 48 Q 88 50 90 48 Q 92 50 95 48' fill='none' stroke='%238B4513' stroke-width='1.5' opacity='0.6'/%3E%3Cellipse cx='65' cy='80' rx='8' ry='12' fill='%23FFF4D1' opacity='0.4'/%3E%3Cellipse cx='110' cy='90' rx='6' ry='10' fill='%23FFF4D1' opacity='0.35'/%3E%3Cellipse cx='85' cy='105' rx='7' ry='11' fill='%23FFF4D1' opacity='0.3'/%3E%3C/svg%3E">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+TC:wght@400;700;900&display=swap"
        rel="stylesheet">

    <style>
        :root {
            --chiikawa-pink: #FFB7D5;
            --chiikawa-light-pink: #FFE5F0;
            --chiikawa-cream: #FFF9E6;
            --chiikawa-yellow: #FFF5C2;
            --chiikawa-brown: #8B7355;
            --chiikawa-blue: #A8D8EA;
            --chiikawa-dark: #5C5C5C;
            --chiikawa-border: #FFD6E8;
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            -webkit-tap-highlight-color: transparent;
        }

        body {
            font-family: 'Noto Sans TC', 'Zen Maru Gothic', sans-serif;
            background-color: var(--chiikawa-light-pink);
            background-image:
                url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 200 200'%3E%3Cpath d='M50 45 C50 38 42 32 35 32 C28 32 22 38 22 45 C22 52 28 58 50 75 C72 58 78 52 78 45 C78 38 72 32 65 32 C58 32 50 38 50 45 Z' fill='rgba(255,255,255,0.5)'/%3E%3Cpath d='M150 125 C150 120 144 115 138 115 C132 115 127 120 127 125 C127 130 132 135 150 148 C168 135 173 130 173 125 C173 120 168 115 162 115 C156 115 150 120 150 125 Z' fill='rgba(255,255,255,0.4)'/%3E%3C/svg%3E");
            background-size: 200px 200px;
            background-position: 0 0;
            min-height: 100vh;
            color: var(--chiikawa-dark);
            overflow-x: hidden;
            padding-bottom: 20px;
        }

        /* È†ÇÈÉ®ÁãÄÊÖãÂàó */
        .status-bar {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 10px 20px;
            background: rgba(255, 255, 255, 0.4);
            backdrop-filter: blur(10px);
            position: sticky;
            top: 0;
            z-index: 100;
            border-bottom: 2px solid var(--chiikawa-pink);
        }

        .location-pill {
            background: var(--chiikawa-yellow);
            color: var(--chiikawa-brown);
            padding: 5px 15px;
            border-radius: 20px;
            font-weight: 900;
            font-size: 1.1rem;
            border: 2px solid var(--chiikawa-pink);
            box-shadow: 3px 3px 0 rgba(255, 183, 213, 0.3);
        }

        .update-pill {
            font-size: 0.8rem;
            color: var(--chiikawa-brown);
            background: rgba(255, 255, 255, 0.6);
            padding: 4px 10px;
            border-radius: 12px;
            border: 1px solid var(--chiikawa-pink);
        }

        .container {
            padding: 20px;
            max-width: 600px;
            margin: 0 auto;
        }

        /* === Ê†∏ÂøÉÔºö‰ªäÊó•ÁÑ¶ÈªûÂç°Áâá === */
        .hero-card {
            background: var(--chiikawa-cream);
            border-radius: 35px;
            padding: 30px 25px;
            text-align: center;
            box-shadow: 0 8px 16px rgba(255, 183, 213, 0.3);
            border: 4px solid var(--chiikawa-pink);
            margin-bottom: 25px;
            position: relative;
        }

        /* ÂÉèÂêâ‰ºäÂç°ÂìáÁöÑÂ∞çË©±Ê∞£Ê≥° */
        .hero-period {
            position: absolute;
            top: -15px;
            left: 50%;
            transform: translateX(-50%);
            background: var(--chiikawa-pink);
            color: white;
            padding: 5px 20px;
            border-radius: 20px;
            font-weight: bold;
            border: 3px solid white;
            box-shadow: 0 4px 8px rgba(255, 183, 213, 0.4);
        }

        .hero-temp-container {
            display: flex;
            justify-content: center;
            align-items: center;
            gap: 10px;
            margin: 15px 0;
        }

        .hero-icon {
            font-size: 5rem;
            filter: drop-shadow(0 4px 8px rgba(255, 183, 213, 0.3));
            animation: float 3s ease-in-out infinite;
        }

        @keyframes float {
            0%, 100% {
                transform: translateY(0) rotate(-5deg);
            }
            50% {
                transform: translateY(-15px) rotate(5deg);
            }
        }

        .hero-temp {
            font-size: 4.5rem;
            font-weight: 900;
            color: var(--chiikawa-brown);
            line-height: 1;
        }

        .hero-desc {
            font-size: 1.5rem;
            color: #A88B7D;
            margin-bottom: 20px;
            font-weight: bold;
        }

        /* === Âø´ÈÄüÂª∫Ë≠∞ÂçÄ === */
        .advice-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 15px;
            margin-top: 20px;
            padding-top: 20px;
            border-top: 2px dashed var(--chiikawa-pink);
        }

        .advice-item {
            display: flex;
            flex-direction: column;
            align-items: center;
            background: rgba(255, 255, 255, 0.6);
            padding: 10px;
            border-radius: 20px;
            border: 2px solid var(--chiikawa-pink);
        }

        .advice-icon {
            font-size: 2rem;
            margin-bottom: 5px;
        }

        .advice-text {
            font-size: 1.4rem;
            font-weight: 700;
            color: var(--chiikawa-brown);
            margin: 5px 0;
            line-height: 1.2;
        }

        /* === ÊØèÊó•‰∏ÄÂè• === */
        .daily-quote {
            background: rgba(255, 255, 255, 0.7);
            border-radius: 25px;
            padding: 10px 18px;
            margin-bottom: 20px;
            border: 3px solid var(--chiikawa-yellow);
            box-shadow: 0 4px 8px rgba(255, 183, 213, 0.2);
            position: relative;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .quote-icon {
            font-size: 1.5rem;
            flex-shrink: 0;
        }

        .quote-content {
            flex: 1;
            display: flex;
            align-items: center;
            justify-content: space-between;
            gap: 8px;
        }

        .quote-text {
            font-size: 1.1rem;
            color: var(--chiikawa-brown);
            font-weight: 500;
            white-space: nowrap;
        }

        .quote-author {
            font-size: 0.85rem;
            color: #999;
            font-style: italic;
            white-space: nowrap;
        }

        /* ËßíËâ≤Â∞àÂ±¨È°èËâ≤ */
        .daily-quote.chiikawa {
            border-color: #FFB7D5;
            background: rgba(255, 183, 213, 0.15);
        }

        .daily-quote.hachiware {
            border-color: #A8D8EA;
            background: rgba(168, 216, 234, 0.15);
        }

        .daily-quote.usagi {
            border-color: #FFF5C2;
            background: rgba(255, 245, 194, 0.25);
        }

        /* === Á®çÂæåÈ†êÂ†±ÔºöÊ©´ÂêëÊªëÂãïÂçÄ === */
        .section-title {
            font-size: 1.2rem;
            color: var(--chiikawa-brown);
            margin-bottom: 15px;
            margin-left: 10px;
            font-weight: 900;
            text-shadow: 2px 2px 0 rgba(255, 255, 255, 0.8);
        }

        .scroll-container {
            display: flex;
            overflow-x: auto;
            gap: 15px;
            padding-bottom: 10px;
            scrollbar-width: none;
            -ms-overflow-style: none;
        }

        .scroll-container::-webkit-scrollbar {
            display: none;
        }

        .mini-card {
            min-width: 140px;
            background: rgba(255, 255, 255, 0.9);
            border-radius: 25px;
            padding: 20px 15px;
            text-align: center;
            border: 3px solid var(--chiikawa-pink);
            flex-shrink: 0;
            box-shadow: 0 4px 8px rgba(255, 183, 213, 0.2);
        }

        .mini-time {
            background: var(--chiikawa-pink);
            color: white;
            padding: 3px 10px;
            border-radius: 10px;
            font-size: 0.8rem;
            display: inline-block;
            margin-bottom: 10px;
            font-weight: bold;
        }

        .mini-icon {
            font-size: 2.5rem;
            margin: 5px 0;
        }

        .mini-temp {
            font-size: 1.2rem;
            font-weight: 800;
            color: var(--chiikawa-dark);
        }

        /* Loading Áï´Èù¢ */
        .loading-screen {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: var(--chiikawa-light-pink);
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            z-index: 999;
        }

        .pudding-icon {
            font-size: 5rem;
            animation: pudding-wobble 1.5s infinite;
        }

        @keyframes pudding-wobble {
            0%, 100% {
                transform: rotate(0deg) scale(1);
            }
            25% {
                transform: rotate(-10deg) scale(1.1);
            }
            75% {
                transform: rotate(10deg) scale(1.1);
            }
        }
    </style>
</head>

<body>
    <div id="loading" class="loading-screen">
        <div class="pudding-icon">üçÆ</div>
        <p style="color: var(--chiikawa-brown); font-weight: bold; margin-top: 20px;">Â∏É‰∏ÅÂú®Á¢∫Ë™çÂ§©Ê∞£...</p>
    </div>
    <div class="status-bar">
        <div class="location-pill">üìç Âè∞Âåó</div>
        <div id="updateTime" class="update-pill">Êõ¥Êñ∞‰∏≠...</div>
    </div>

    <div class="container" id="mainContent" style="display: none;">

        <div class="daily-quote" id="dailyQuote">
        </div>

        <div id="heroCard">
        </div>

        <h3 class="section-title">Á®çÂæåÈ†êÂ†±</h3>
        <div class="scroll-container" id="futureForecasts">
        </div>

    </div>

    <script>
        const API_URL = "https://taipeweather.zeabur.app/api/weather/kaohsiung";

        // ÊØèÊó•ÂêçË®ÄÂ∫´
        const dailyQuotes = [
            { text: "Âìá‚Ä¶", author: "Âêâ‰ºä", icon: "üå∏", character: "chiikawa" },
            { text: "ÂëÄÔºÅÔºÅ", author: "Âêâ‰ºä", icon: "‚ú®", character: "chiikawa" },
            { text: "...ÊòØÈÄôÊÑèÊÄùÔºÅÔºü", author: "Â∞èÂÖ´", icon: "üê±", character: "hachiware" },
            { text: "‰∏ÄÂÆöÊúÉÊúâËæ¶Ê≥ïÔΩû", author: "Â∞èÂÖ´", icon: "üê±", character: "hachiware" },
            { text: "Âì≠Âá∫‰æÜ‰∫Ü...", author: "Â∞èÂÖ´", icon: "üê±", character: "hachiware" },
            { text: "ÁÉèÊãâÂëÄÂìàÔΩû", author: "ÁÉèËñ©Â•á", icon: "üê∞", character: "usagi" },
            { text: "ÂìàÔºü", author: "ÁÉèËñ©Â•á", icon: "üê∞", character: "usagi" },
            { text: "ÂëÄÂìàÔΩû", author: "ÁÉèËñ©Â•á", icon: "üê∞", character: "usagi" },
            { text: "ÊÅ©...", author: "Âêâ‰ºä", icon: "üåü", character: "chiikawa" },
            { text: "ÂóöÂï¶ÔΩû", author: "ÁÉèËñ©Â•á", icon: "üê∞", character: "usagi" },
            { text: "Â§ßÂÆ∂‰∏ÄËµ∑Âä†Ê≤πÂêß", author: "Â∞èÂÖ´", icon: "üê±", character: "hachiware" },
            { text: "ÊàëÊúÉÊîØÊåÅ‰Ω†ÁöÑ", author: "Â∞èÂÖ´", icon: "üê±", character: "hachiware" },
            { text: "Ê≤íÈóú‰øÇÁöÑ", author: "Â∞èÂÖ´", icon: "üê±", character: "hachiware" },
            { text: "ÂëºÔºÅ", author: "Âêâ‰ºä", icon: "üíï", character: "chiikawa" },
            { text: "ÁÉèÊãâÁÉèÊãâÔΩûÂëÄÂìàÔΩû", author: "ÁÉèËñ©Â•á", icon: "üê∞", character: "usagi" }
        ];

        function getDailyQuote() {
            // ÊØèÊ¨°ÈáçÊñ∞Êï¥ÁêÜÈö®Ê©üÈÅ∏Êìá‰∏ÄÂè•ÂêçË®Ä
            const randomIndex = Math.floor(Math.random() * dailyQuotes.length);
            return dailyQuotes[randomIndex];
        }

        function getWeatherIcon(weather) {
            if (!weather) return "üå§Ô∏è";
            if (weather.includes("Êô¥")) return "‚òÄÔ∏è";
            if (weather.includes("Â§öÈõ≤")) return "‚õÖ";
            if (weather.includes("Èô∞")) return "‚òÅÔ∏è";
            if (weather.includes("Èõ®")) return "üåßÔ∏è";
            if (weather.includes("Èõ∑")) return "‚õàÔ∏è";
            return "üå§Ô∏è";
        }

        function getAdvice(rainProb, maxTemp) {
            let rainIcon = "üçÆ";
            let rainText = "ÊîæÂøÉÂá∫ÈñÄÂï¶ÂóöÂï¶";
            if (parseInt(rainProb) > 30) {
                rainIcon = "‚òÇÔ∏è";
                rainText = "Ë®òÂæóÂ∏∂ÂÇòÂëÄÂìà";
            }

            let clothIcon = "üëï";
            let clothText = "ËàíÈÅ©Á©øÊê≠Âòø";
            if (parseInt(maxTemp) >= 28) {
                clothIcon = "üéΩ";
                clothText = "Á©øÁü≠Ë¢ñÂêßÂëÄÂìà";
            } else if (parseInt(maxTemp) <= 20) {
                clothIcon = "üß•";
                clothText = "Ë¶ÅÁ©øÂ§ñÂ•óÂñîÂóöÂï¶";
            }

            return { rainIcon, rainText, clothIcon, clothText };
        }

        function getTimePeriod(startTime) {
            const hour = new Date(startTime).getHours();
            if (hour >= 5 && hour < 11) return "Êó©Êô®";
            if (hour >= 11 && hour < 14) return "‰∏≠Âçà";
            if (hour >= 14 && hour < 18) return "‰∏ãÂçà";
            if (hour >= 18 && hour < 23) return "Êôö‰∏ä";
            return "Ê∑±Â§ú";
        }

        function renderWeather(data) {
            const forecasts = data.forecasts;
            const current = forecasts[0];
            const others = forecasts.slice(1);

            // Ê∏≤ÊüìÊØèÊó•‰∏ÄÂè•
            const quote = getDailyQuote();
            document.getElementById('dailyQuote').innerHTML = `
                <div class="quote-icon">${quote.icon}</div>
                <div class="quote-content">
                    <div class="quote-text">${quote.text}</div>
                    <div class="quote-author">‚Äî ${quote.author}</div>
                </div>
            `;
            document.getElementById('dailyQuote').className = `daily-quote ${quote.character}`;

            const advice = getAdvice(current.rain, current.maxTemp);
            const period = getTimePeriod(current.startTime);
            const avgTemp = Math.round((parseInt(current.maxTemp) + parseInt(current.minTemp)) / 2);

            document.getElementById('heroCard').innerHTML = `
                        <div class="hero-card">
                            <div class="hero-period">${period}</div>
                            <div class="hero-temp-container">
                                <div class="hero-icon">${getWeatherIcon(current.weather)}</div>
                                <div class="hero-temp">${avgTemp}¬∞</div>
                            </div>
                            <div class="hero-desc">${current.weather}</div>
                            
                            <div class="advice-grid">
                                <div class="advice-item">
                                    <div class="advice-icon">${advice.rainIcon}</div>
                                    <div class="advice-text">${advice.rainText}</div>
                                    <div style="font-size:0.85rem; color:#999">ÈôçÈõ®Áéá ${current.rain}</div>
                                </div>
                                <div class="advice-item">
                                    <div class="advice-icon">${advice.clothIcon}</div>
                                    <div class="advice-text">${advice.clothText}</div>
                                    <div style="font-size:0.85rem; color:#999">ÊúÄÈ´òÊ∫´ ${current.maxTemp}¬∞</div>
                                </div>
                            </div>
                        </div>
                    `;

            const scrollContainer = document.getElementById('futureForecasts');
            scrollContainer.innerHTML = '';

            const todayDate = new Date().getDate();

            others.forEach(f => {
                let p = getTimePeriod(f.startTime);

                const fDate = new Date(f.startTime);
                if (fDate.getDate() !== todayDate) {
                    p = "ÊòéÂ§©" + p;
                }

                scrollContainer.innerHTML += `
                            <div class="mini-card">
                                <div class="mini-time">${p}</div>
                                <div class="mini-icon">${getWeatherIcon(f.weather)}</div>
                                <div class="mini-temp">${f.minTemp}¬∞ - ${f.maxTemp}¬∞</div>
                                <div style="font-size:0.8rem; color:#888; margin-top:5px;">üíß${f.rain}</div>
                            </div>
                        `;
            });

            const now = new Date();
            const month = now.getMonth() + 1;
            const date = now.getDate();
            const dayIndex = now.getDay();
            const days = ["ÈÄ±Êó•", "ÈÄ±‰∏Ä", "ÈÄ±‰∫å", "ÈÄ±‰∏â", "ÈÄ±Âõõ", "ÈÄ±‰∫î", "ÈÄ±ÂÖ≠"];

            document.getElementById('updateTime').textContent = `${month}Êúà${date}Êó• ${days[dayIndex]}`;
        }

        async function fetchWeather() {
            try {
                const delayPromise = new Promise(resolve => setTimeout(resolve, 1500));
                const fetchPromise = fetch(API_URL).then(res => res.json());
                const [_, json] = await Promise.all([delayPromise, fetchPromise]);

                if (json.success) {
                    renderWeather(json.data);
                    document.getElementById('loading').style.display = 'none';
                    document.getElementById('mainContent').style.display = 'block';
                } else {
                    throw new Error("API Error");
                }
            } catch (e) {
                console.error(e);
                alert("Â§©Ê∞£Ë≥áÊñôËÆÄÂèñÂ§±ÊïóÔºåÂ∏É‰∏ÅÁù°Ëëó‰∫ÜÂóöÂï¶ÔºÅ");
            }
        }

        document.addEventListener("DOMContentLoaded", fetchWeather);
    </script>
</body>

</html>